drop table if exists dividends;

create table dividends (
	id varchar (36) unique primary key not null,
    user_id varchar (36) not null,
	broker_id varchar (36) not null,
	ticker_id varchar (36) not null,
	issue_date date not null,
	amount_per_share decimal (14,6) not null,
    share_quantity decimal (14,6) not null,
    deleted boolean not null default false,

	constraint fk_dividends_to_users foreign key (user_id) references users (id),
	constraint FK_dividends_to_brokers foreign key (broker_id) references brokers (id),
	constraint FK_dividends_to_tickers foreign key (ticker_id) references tickers (id)
);

insert into dividends values
	('020be455-8082-40f9-a12a-af371fc57870','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','153d4589-7168-11ef-b1e8-a4f933c45288','2022-01-03',0.150000,1.000000,0),
	('02fad41e-56b6-4acd-8d9a-d74599a79253','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2024-08-30',0.165000,0.055000,0),
	('0c9e0a07-0c07-41e1-8163-c74de47b04b2','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','07e1dc3e-948e-11ef-9086-dc454691e924','2024-02-26',0.080000,51.951900,0),
	('10096a94-4bc1-4450-a108-72e9d5575877','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','153d4589-7168-11ef-b1e8-a4f933c45288','2023-04-03',0.160000,1.000000,0),
	('10c794b8-3351-4664-8d9f-a57c9f8e1f86','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','07e1dc3e-948e-11ef-9086-dc454691e924','2024-04-25',0.080000,76.344400,0),
	('10c8fb2e-d488-4be2-a853-83bbbd4b9141','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','0953e82c-1178-4576-8438-2fdb28e79ea6','2024-04-18',0.150000,85.487000,0),
	('10d9b974-6b52-412f-8f15-e4ddb0841911','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','07e1dc3e-948e-11ef-9086-dc454691e924','2024-10-25',0.080000,64.973900,0),
	('1431d859-ba61-4b9c-a63a-1304e47e6c08','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','153d4589-7168-11ef-b1e8-a4f933c45288','2023-01-03',0.160000,1.000000,0),
	('16d187cf-c7e6-441b-b25c-7560e757b5f0','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','07e1dc3e-948e-11ef-9086-dc454691e924','2023-11-27',0.080000,50.000000,0),
	('23a00f11-a7d9-4679-933a-79cfaf5a2ad5','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','07e1dc3e-948e-11ef-9086-dc454691e924','2023-12-25',0.080000,50.656800,0),
	('24e7a85f-2276-493c-af10-2b2a130dd553','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2024-01-31',0.082500,6.241100,0),
	('33a57c00-2751-42a8-86e1-5aba7329adc3','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2024-05-31',0.165000,0.053800,0),
	('3993a99d-da7c-417d-ba15-706dd68a749f','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2023-10-31',0.082500,6.091900,0),
	('40299634-756b-45e3-a06e-2bb5ab280b7e','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','6da27f30-10a4-4dec-9ae9-09f0f0d33273','2023-06-27',0.023000,13.000000,0),
	('425b0943-a7f2-42f5-9e58-b1db301009f4','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','153d4589-7168-11ef-b1e8-a4f933c45288','2022-07-01',0.160000,1.000000,0),
	('42a46f6b-b728-4d40-b8e7-7c7e475e068f','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','153d4589-7168-11ef-b1e8-a4f933c45288','2022-04-01',0.160000,1.000000,0),
	('4823a828-9a78-4897-9973-8542760ded00','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','46d7a5e8-c4a0-49cc-ae1f-5b4ef808287b','2024-10-31',0.035000,110.859100,0),
	('4a81b634-be64-4e14-901c-deca3f6069e5','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2024-04-30',0.165000,7.051600,0),
	('69a50cd9-2bd8-4e0e-a2f9-f6cf38cb33f1','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','0953e82c-1178-4576-8438-2fdb28e79ea6','2024-07-05',0.150000,2.445600,0),
	('70c49240-4afa-459b-85f2-b7080e003373','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2024-07-31',0.165000,0.054000,1),
	('73964623-eafa-4665-a1a7-ea4da7e4f374','071e5e85-aa78-11ef-9b55-dc454691e924','87dd6b50-bf1e-4b1f-b48d-6b6e165acf2e','7a664c2c-0324-4ba4-8be4-f1712a7f90be','2024-11-12',0.120000,8.171000,0),
	('8606c4dd-99bd-40f9-843a-e27095f8a6e1','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','0953e82c-1178-4576-8438-2fdb28e79ea6','2024-10-24',0.150000,82.031900,0),
	('8db7bd90-0963-4496-bc78-813bf3b468fa','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','55e7979a-1fd7-4482-ae74-7a84351c6537','2023-09-11',0.145600,5.000000,0),
	('8f587328-215c-4cf9-84d3-178ef348b963','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','153d4589-7168-11ef-b1e8-a4f933c45288','2021-10-01',0.150000,1.000000,0),
	('9a8d29bc-c63c-45fa-a0c0-75104a7df4ef','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','46d7a5e8-c4a0-49cc-ae1f-5b4ef808287b','2024-09-30',0.035000,77.748300,0),
	('a089bff6-c0f5-4b09-a492-6090e0db6206','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2024-02-29',0.082500,6.289800,0),
	('a9194224-b93c-46e4-833b-bbd4d85b48c5','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','07e1dc3e-948e-11ef-9086-dc454691e924','2023-01-25',0.080000,51.290600,0),
	('ae2599ac-28ef-4ebb-bf12-3e22312b4a4d','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','153d4589-7168-11ef-b1e8-a4f933c45288','2022-10-03',0.160000,1.000000,0),
	('af14810a-81bb-4a1e-b173-3c0062b9b0f1','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2023-11-30',0.082500,6.143300,0),
	('b2fdd8f5-b426-4f7e-9e9d-76728519a33e','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2024-07-31',0.165000,0.054600,0),
	('b9f0fb56-8b11-4458-b99a-15b08ac1ff98','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2023-12-29',0.082500,6.193400,0),
	('c1236ba7-a15d-401b-b8b6-8c2cd448da97','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','7a664c2c-0324-4ba4-8be4-f1712a7f90be','2024-11-12',0.120000,74.293800,0),
	('d6e9c15a-e40b-4d4d-92f4-c8d71c4a0cf5','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','7a664c2c-0324-4ba4-8be4-f1712a7f90be','2024-10-09',0.120000,44.003100,0),
	('da552874-6752-48a0-907f-feec049ff3a7','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','0953e82c-1178-4576-8438-2fdb28e79ea6','2024-01-18',0.150000,51.414600,0),
	('e1a6e16c-ee56-4964-8065-262db1c4c2f6','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2024-04-02',0.082500,13.988100,0),
	('e1b78ebf-668a-46e9-87ab-7d015f3bbebe','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','4676d995-5c5b-4bd9-b1b7-26532e391c42','2024-06-28',0.165000,0.054200,0),
	('ea4c6a69-de3c-4473-8c1a-dc6209c58b43','071e5e85-aa78-11ef-9b55-dc454691e924','80e43ec8-016a-453d-b4ff-80d9d79a2bc7','07e1dc3e-948e-11ef-9086-dc454691e924','2024-03-25',0.080000,75.465200,0);